[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200

; Librerías necesarias para el proyecto
lib_deps = 
    bblanchon/ArduinoJson@^7.2.0
    https://github.com/schreibfaul1/ESP32-audioI2S.git


; Ajustes de compilación para SSL/TLS, memoria y debugging
build_flags = 
    -D CORE_DEBUG_LEVEL=3
    -D MBEDTLS_KEY_EXCHANGE_PSK_ENABLED
    -D CONFIG_MBEDTLS_DEBUG
    -D MBEDTLS_SSL_PROTO_TLS1_2
    -D ARDUINOJSON_USE_LONG_LONG=1
    -D ARDUINOJSON_DECODE_UNICODE=1
    -D CONFIG_SPIRAM_SUPPORT=1
    -D CONFIG_SPIRAM_USE_MALLOC=1
    -w

; Filtros del monitor serial
monitor_filters = 
    esp32_exception_decoder
    colorize

; Puerto de carga
upload_port = COM5

; Velocidad de carga
upload_speed = 921600

; Configuración de particiones (más espacio para programa y heap)
board_build.partitions = huge_app.csv
board_build.flash_mode = dio

; Optimizaciones de memoria para manejar archivos WAV grandes
board_build.f_cpu = 240000000L
board_build.f_flash = 80000000L